{% extends 'base.html' %}

{% block title %}Service Finder{% endblock %}

{% block content %}
  <p>Welcome to the service finder</p>
  <div class="pure-g">
    <div class="pure-u-1-5"></div>
    <div class="pure-u-1-5">
      <div class="pure-button-group" role="group">
        <button id="services_button" onclick="serviceSearch()" style="width: 50%" class="pure-button">Services</button>
        <button id="organizations_button" onclick="organizationSearch()" style="width: 50%" class="pure-button">Organizations</button>
      </div>
    </div>
    <div class="pure-u-1-5"></div>
    <div class="pure-u-1-5">
      <input id="search_field" class="pure-input-2-3 pure-input-rounded" placeholder="Search...">
      <button id="search_button" onclick="search()" class="pure-button">Search</button>
    </div>

    <div class="pure-u-1-5"></div>
  </div>
  <div class="pure-g">
    <div class="pure-u-1-5"></div>
    <div class="pure-u-1-5">
      <div class="pure-button-group" role="group">
        <!-- TODO: only displays when Services is selected -->
        <!-- TODO: active and primary change based on which is selected -->
        <button id="all_button" onclick="allSearch()" style="width: 25%" class="pure-button">All</button>
        <button id="shelters_button" onclick="shelterSearch()" style="width: 25%" class="pure-button">Shelters</button>
        <button id="food_button" onclick="foodSearch()" style="width: 25%" class="pure-button">Food</button>
        <button id="health_button" onclick="healthSearch()" style="width: 25%" class="pure-button">Health
        </button>
      </div>
    </div>
    <div class="pure-u-1-5"></div>
  </div>
  <div id="finder_table" class="pure-g">
    <div class="pure-u-1-5"></div>
    <div class="pure-u-3-5">
      <!-- TODO: Change between organization and service -->
      <table id="finder_table" style="width: 100%" class="pure-table pure-table-bordered">
        <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Address</th>
          <th>Contact</th>
          <th>Description</th>
          <th>Amenities</th>
        </tr>
        </thead>

        <tbody>
        {% if services %}
          {% for service in services %}
            <tr>
              <td><a href="{{ service.get_absolute_url }}">{{ service.name }}</a></td>
              <td>{{ service.type }}</td>
              <td>{{ service.address }}</td>
              <td><p>{{ service.phone }}</p>
                <p>{{ service.email }}</p></td>
              <td>{{ service.description }}</td>
              <td></td>
            </tr>
          {% endfor %}
        {% endif %}
        {% if organizations %}
          {% for organization in organizations %}
            <tr>
              <td><a href="{{ organization.get_absolute_url }}">{{ organization.name }}</a></td>
              <td>Organization</td>
              <td>{{ organization.address }}</td>
              <td><p>{{ organization.phone }}</p>
                <p>{{ organization.email }}</p></td>
              <td>{{ organization.description }}</td>
              <td></td>
            </tr>
          {% endfor %}
        {% endif %}
        </tbody>
      </table>
    </div>
    <div class="pure-u-1-5"></div>
  </div>
  <div class="pure-g">
    <div class="pure-u-1-5"></div>
    <div class="pure-u-3-5">
      {% include "pagination.html" with page=services %}
    </div>
    <div class="pure-u-1-5"></div>
  </div>
  {% load static %}
  <script src="{% static 'website/finder.js' %}"></script>
{% endblock %}
